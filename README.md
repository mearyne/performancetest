## **μ”μ•½ (Summary)**

λ³Έ ν”„λ΅μ νΈλ” **Spring Boot(Kotlin)** κΈ°λ°μ CRUD APIλ¥Ό λ€μƒμΌλ΅ **k6**λ¥Ό ν™μ©ν• λ¶€ν• ν…μ¤νΈ λ° **Grafana/InfluxDB**λ¥Ό ν†µν• μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§ ν™κ²½μ„ κµ¬μ¶•ν• μ‹¤μµ ν”„λ΅μ νΈμ…λ‹λ‹¤. νΉμ • λ¶€ν• μ‹λ‚λ¦¬μ¤μ—μ„μ μ‹μ¤ν… μ•μ •μ„±κ³Ό μ‘λ‹µ μ„±λ¥(Thresholds)μ„ κ²€μ¦ν•λ” κ²ƒμ„ λ©μ μΌλ΅ ν•©λ‹λ‹¤.

**μ •λ³΄ μ¶μ²:** [μΈν”„λ° - k6λ΅ λ°°μ°λ” Spring Boot λ¶€ν• ν…μ¤νΈ μ‹¤μµ κ°•μ](https://www.inflearn.com/course/k6%EB%A1%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-spring-boot/dashboard?cid=338702) λ° μ‚¬μ©μ μ κ³µ μ½”λ“

---

## **README κµ¬μ„± μ μ•**

# π€ Spring Boot Performance Testing Practice

μ΄ ν”„λ΅μ νΈλ” μΈν”„λ°μ 'k6λ΅ λ°°μ°λ” Spring Boot' κ°•μλ¥Ό λ°”νƒ•μΌλ΅ ν•™μµν• κ°μΈ ν”„λ΅μ νΈμ…λ‹λ‹¤. Kotlinκ³Ό Spring Bootλ¥Ό μ΄μ©ν•΄ κΈ°λ³Έμ μΈ CRUDλ¥Ό κµ¬ν„ν•κ³ , k6λ¥Ό ν™μ©ν•΄ λ¶€ν• ν…μ¤νΈλ¥Ό μν–‰ν•λ©° μ‹μ¤ν…μ μ„±λ¥ ν•κ³„λ¥Ό μΈ΅μ •ν•κ³  λ¨λ‹ν„°λ§ν•λ” ν™κ²½μ„ κµ¬μ¶•ν–μµλ‹λ‹¤.

## π›  Tech Stack

| Category | Tech Stack | Version |
| --- | --- | --- |
| **Language** | Kotlin | 1.9.25 |
| **Framework** | Spring Boot | 3.5.10 |
| **Database** | H2 (In-memory) | - |
| **ORM** | Spring Data JPA | - |
| **Load Testing** | k6 | - |
| **Monitoring** | Grafana, InfluxDB | - |

---

## π“ Load Testing Scenario

λ¶€ν• ν…μ¤νΈλ” μ‹μ¤ν…μ΄ μ μ§„μ μΈ μ‚¬μ©μ μ¦κ°€μ— μ–΄λ–»κ² λ°μ‘ν•λ”μ§€, κ·Έλ¦¬κ³  ν”Όν¬ νƒ€μ„μ λ¶€ν•λ¥Ό κ²¬λ” μ μλ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ μ•„λμ™€ κ°™μ€ μ‹λ‚λ¦¬μ¤λ΅ κµ¬μ„±λμ—μµλ‹λ‹¤.

### **1. Test Stages (λ¶€ν• ν¨ν„΄)**

```javascript
stages: [  
    { duration: '30s', target: 1000 }, // Ramp-up: 30μ΄ λ™μ• κ°€μƒ μ‚¬μ©μ(VU)λ¥Ό 0μ—μ„ 1000λ…κΉμ§€ μ μ§„μ  μ¦κ°€
    { duration: '1m', target: 1000 },  // Stay: 1λ¶„ λ™μ• 1000λ…μ λ™μ‹ μ ‘μ†μ μƒνƒ μ μ§€ (Peak Load)
    { duration: '30s', target: 0 },    // Ramp-down: 30μ΄ λ™μ• μ‚¬μ©μλ¥Ό 0λ…μΌλ΅ μ μ§„μ  κ°μ†
],

```

* **λ©μ :** κΈ‰κ²©ν• μ‚¬μ©μ μ μ… μƒν™©(Ramp-up)μ—μ„μ μμ› ν• λ‹Ή λ¥λ ¥κ³Ό μµλ€ λ¶€ν• μƒνƒ(Stay)μ—μ„μ μ²λ¦¬ μ§€μ†μ„±μ„ ν™•μΈν•©λ‹λ‹¤.

### **2. Thresholds (μ„±λ¥ μ§€ν‘ κΈ°μ¤€)**

ν…μ¤νΈμ μ„±κ³µ μ—¬λ¶€λ¥Ό κ²°μ •ν•λ” ν•µμ‹¬ μ§€ν‘(SLO)λ¥Ό μ„¤μ •ν–μµλ‹λ‹¤.

* **`http_req_duration: ['p(95)<2000']`**: μ „μ²΄ μ”μ²­ μ¤‘ 95%μ μ‘λ‹µ μ‹κ°„(Latency)μ΄ **2μ΄(2000ms) μ΄λ‚΄**μ—¬μ•Ό ν•©λ‹λ‹¤.
* **`http_req_failed: ['rate<0.01']`**: ν…μ¤νΈ μ¤‘ λ°μƒν•λ” μ—λ¬μ¨μ΄ **1% λ―Έλ§**μ΄μ–΄μ•Ό ν•©λ‹λ‹¤.

---

## π“ Monitoring Environment

k6μ—μ„ μƒμ„±λ ν…μ¤νΈ κ²°κ³Ό λ°μ΄ν„°λ” **InfluxDB**μ— μ‹¤μ‹κ°„μΌλ΅ κΈ°λ΅λλ©°, **Grafana** λ€μ‹λ³΄λ“λ¥Ό ν†µν•΄ μ‹κ°ν™”λ©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ¶€ν•κ°€ μ§‘μ¤‘λλ” μ‹μ μ μ‘λ‹µ μ†λ„ λ³€ν™”μ™€ μ—λ¬ λ°μƒ μ—¬λ¶€λ¥Ό μ§κ΄€μ μΌλ΅ νμ•…ν•  μ μμµλ‹λ‹¤.

---

## π’΅ Future Plans

μ΄ ν”„λ΅μ νΈλ” ν–¥ν›„ μ§„ν–‰ν•  λ¨λ“  λ¶€ν• ν…μ¤νΈμ **Base ν”„λ΅μ νΈ**λ΅ ν™μ©λ  μμ •μ…λ‹λ‹¤.

* λ‹¤μ–‘ν• API μ—”λ“ν¬μΈνΈμ— λ€ν• μ‹λ‚λ¦¬μ¤ ν™•μ¥
* DB μΏΌλ¦¬ μµμ ν™” λ° JVM νλ‹μ— λ”°λ¥Έ μ„±λ¥ λ³€ν™” κΈ°λ΅
* Docker Composeλ¥Ό ν™μ©ν• μΈν”„λΌ κµ¬μ„± μλ™ν™”


3. **λ¬Έκµ¬ κ°μ„ :** κ°μΈ ν•™μµμ©μ„μ„ λ…μ‹ν•λ©΄μ„λ„ μ „λ¬Έμ μΈ μ©μ–΄(Ramp-up, Threshold, SLO λ“±)λ¥Ό μ‚¬μ©ν•μ—¬ κ°λ°μ λ¬Έμ„λ΅μ„μ κ°€λ…μ„±μ„ λ†’μ€μµλ‹λ‹¤.

**νΉμ‹ Grafana λ€μ‹λ³΄λ“ μ„¤μ • λ°©λ²•μ΄λ‚ Docker Compose νμΌ λ‚΄μ©λ„ READMEμ— μ¶”κ°€ν•κ³  μ‹¶μΌμ‹ κ°€μ”?**
